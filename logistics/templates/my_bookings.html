<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Bookings</title>
    <script>
(function() {
    const pref = localStorage.getItem('darkMode');
    if (
        (pref === 'on') ||
        (pref === null && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
        document.documentElement.classList.add('dark-mode');
    } else {
        document.documentElement.classList.remove('dark-mode');
    }
})();
</script>
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; }
        .container { max-width: 800px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 40px; }
        h1 { color: #2c3e50; text-align: center; margin-bottom: 30px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px; border-bottom: 1px solid #ddd; text-align: left; }
        th { background-color: #3498db; color: white; }
        tr:hover { background-color: #f1f1f1; }
        .back-btn { background:#bdc3c7; color:#2c3e50; border:none; border-radius:5px; padding:8px 16px; font-weight:bold; margin-bottom:10px; cursor:pointer; }
    </style>
    <style>
.dark-mode body { background: #181a20 !important; }
.dark-mode .container {
    background: #23272f !important; color: #e3e6ed !important;
}
.dark-mode h1 {
    color: #8ab4f8 !important;
}
.dark-mode th {
    background-color: #22304a !important; color: #e3e6ed !important;
}
.dark-mode tr:hover {
    background-color: #232b36 !important;
}
.dark-mode .back-btn {
    background: #23272f !important; color: #8ab4f8 !important;
}
</style>
</head>
<body>
    <div class="container">
        <a href="{% url 'logistics:dashboard' %}" class="back-btn" style="text-decoration:none;">← Back to Dashboard</a>
        <h1>My Bookings</h1>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Pickup</th>
                    <th>Dropoff</th>
                    <th>Cargo</th>
                    <th>Booked At</th>
                </tr>
            </thead>
            <tbody>
                {% for booking in bookings %}
                <tr>
                    <td>{{ booking.job.title }}</td>
                    <td>
                        <b>City:</b> {{ booking.job.origin }}<br>
                        <b>Address:</b> {{ booking.job.origin_address|default:'—' }}<br>
                        <b>ZIP:</b> {{ booking.job.origin_zip|default:'—' }}<br>
                        <b>Date:</b> {{ booking.job.pickup_date|default:'—' }}<br>
                        <b>Time:</b> {{ booking.job.pickup_time_from|default:'—' }}
                    </td>
                    <td>
                        <b>City:</b> {{ booking.job.destination }}<br>
                        <b>Address:</b> {{ booking.job.destination_address|default:'—' }}<br>
                        <b>ZIP:</b> {{ booking.job.destination_zip|default:'—' }}<br>
                        <b>Time:</b> {{ booking.job.pickup_time_to|default:'—' }}<br>
                        <b>Deadline:</b> {{ booking.job.delivery_deadline|default:'—' }}
                    </td>
                    <td>
                        <b>Type:</b> {{ booking.job.cargo_type.name }}<br>
                        <b>Weight:</b> {{ booking.job.weight_kg|default:'—' }} kg<br>
                        <b>Dimensions:</b> {{ booking.job.length_cm|default:'—' }}×{{ booking.job.width_cm|default:'—' }}×{{ booking.job.height_cm|default:'—' }} cm<br>
                        <b>Special:</b> {{ booking.job.special_requirements|default:'—' }}
                    </td>
                    <td>{{ booking.booked_at|date:"Y-m-d H:i" }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5" style="text-align:center; color:#888;">No bookings yet.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html> 